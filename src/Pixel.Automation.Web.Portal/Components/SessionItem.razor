
<MudTd DataLabel="Session Name">
    <MudButton Link="@detailsLink"
               Variant="Variant.Filled"
               Color="@detailsButtonColor"
               Disabled=@isDetailsButtonDisabled>
        @Session.SessionId.Substring(0, 11)...
    </MudButton>   
</MudTd>
<MudTd DataLabel="Project Name">
    @Session.ProjectName <br />
    <MudText Typo="Typo.caption">@Session.ProjectVersion</MudText>
</MudTd>
<MudTd DataLabel="Machine Name">
    @Session.MachineName <br/>
    <MudText Typo="Typo.caption">@Session.OSDetails</MudText>
</MudTd>
<MudTd DataLabel="Start Time">@Session.SessionStartTime.ToLocalTime()</MudTd>
<MudTd DataLabel="Execution Time">@String.Format("{0:0.000#}", Session.SessionTime) m</MudTd>
<MudTd DataLabel="Total | Passed | Failed">
    <MudChip Color="Color.Info" >@Session.TotalNumberOfTests</MudChip>
    <MudChip Color="Color.Success">@Session.NumberOfTestsPassed</MudChip>
    <MudChip Color="Color.Error">@Session.NumberOfTestsFailed</MudChip>
</MudTd>
<MudTd DataLabel="Status"><ResultIcon Result="@Session.SessionResult" /></MudTd>



@code {

    private bool isDetailsButtonDisabled = true;
    private Color detailsButtonColor = Color.Default;
    private string detailsLink;

    [Parameter]
    public TestSession Session { get; set; }


    protected override void OnInitialized()
    {
        detailsLink = $"session-details/{Session.SessionId}";
        isDetailsButtonDisabled = Session.SessionStatus == SessionStatus.InProgress;
        detailsButtonColor = (Session.SessionResult == TestStatus.Success) ? Color.Success : Color.Error;
        base.OnParametersSet();
        Console.WriteLine($"Button should be {isDetailsButtonDisabled} : {Session.SessionStatus}");
    }
}
