<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            Edi Cron Trigger
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudTextField id="txtName" @bind-Value="@Modified.Name" Label="Name" @onfocus="(() => error = string.Empty)"
                      Variant="Variant.Text" Immediate="true" Style="width:360px"></MudTextField>
        <MudSelect @bind-Value="@Modified.Handler" Label="Handler" AdornmentColor="Color.Secondary" Class="mt-3">
            @foreach (string handler in templateHandlers.Select(s => s.Name))
            {
                <MudSelectItem Value="@handler">@handler</MudSelectItem>
            }
        </MudSelect>
        <MudTextField id="txtGroup" @bind-Value="@Modified.Group" Label="Group" @onfocus="(() => error = string.Empty)"
                      Variant="Variant.Text" Immediate="true" Style="width:360px"></MudTextField>
        <MudTextField id="txtCronExpression" @bind-Value="@Modified.CronExpression" Label="Cron Expression" @onfocus="(() => error = string.Empty)"
                      Variant="Variant.Text" Immediate="true" Style="width:360px"></MudTextField>
        <MudTextField id="txtParameters" @bind-Value="parameters" Label="Parameters" @onfocus="(() => error = string.Empty)"
                      Variant="Variant.Text" Immediate="true" Style="width:360px" HelperText=", seperated key=value pair"></MudTextField>
        <br />
        @if (!string.IsNullOrEmpty(error))
        {
            <MudAlert id="errorMessage" Severity="Severity.Error">@error</MudAlert>
        }
    </DialogContent>
    <DialogActions>
        <MudButton id="btnUpdateTrigger" OnClick="UpdateTriggerAsync"
                   Disabled="string.IsNullOrEmpty(Modified.Name) || string.IsNullOrEmpty(Modified.Handler)
                   || string.IsNullOrEmpty(Modified.Group) || string.IsNullOrEmpty(Modified.CronExpression)"
                   Color="Color.Primary" Variant="Variant.Filled">
            Update
        </MudButton>
    </DialogActions>
</MudDialog>
